{"version":3,"file":"bundles/pages/_app.js","sources":["webpack:///webpack/bootstrap 5ce3a09d685fcf5e36fa","webpack:///lib/getPageContext.js","webpack:///lib/initApollo.js","webpack:///lib/withApolloClient.js","webpack:///lib/withClientState.js","webpack:///pages/_app.js","webpack:///external \"@babel/runtime/regenerator\"","webpack:///external \"@material-ui/core/CssBaseline\"","webpack:///external \"@material-ui/core/colors/green\"","webpack:///external \"@material-ui/core/colors/purple\"","webpack:///external \"@material-ui/core/styles\"","webpack:///external \"apollo-boost\"","webpack:///external \"apollo-link\"","webpack:///external \"apollo-link-context\"","webpack:///external \"apollo-link-http\"","webpack:///external \"apollo-link-state\"","webpack:///external \"graphql-tag\"","webpack:///external \"isomorphic-unfetch\"","webpack:///external \"jss\"","webpack:///external \"next/app\"","webpack:///external \"next/head\"","webpack:///external \"react\"","webpack:///external \"react-apollo\"","webpack:///external \"react-jss/lib/JssProvider\"","webpack:///external \"styled-jsx/style\""],"sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tvar threw = true;\n \t\ttry {\n \t\t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n \t\t\tthrew = false;\n \t\t} finally {\n \t\t\tif(threw) delete installedModules[moduleId];\n \t\t}\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 5ce3a09d685fcf5e36fa","/* eslint-disable no-underscore-dangle */\n\nimport { SheetsRegistry } from 'jss'\nimport {\n  createMuiTheme,\n  createGenerateClassName\n} from '@material-ui/core/styles'\nimport purple from '@material-ui/core/colors/purple'\nimport green from '@material-ui/core/colors/green'\n\n// A theme with custom primary and secondary color.\n// It's optional.\nconst theme = createMuiTheme({\n  palette: {\n    primary: {\n      light: purple[300],\n      main: purple[500],\n      dark: purple[700]\n    },\n    secondary: {\n      light: green[300],\n      main: green[500],\n      dark: green[700]\n    }\n  }\n})\n\nfunction createPageContext() {\n  return {\n    theme,\n    // This is needed in order to deduplicate the injection of CSS in the page.\n    sheetsManager: new Map(),\n    // This is needed in order to inject the critical CSS.\n    sheetsRegistry: new SheetsRegistry(),\n    // The standard class name generator.\n    generateClassName: createGenerateClassName()\n  }\n}\n\nexport default function getPageContext() {\n  // Make sure to create a new context for every server-side request so that data\n  // isn't shared between connections (which would be bad).\n  if (!process.browser) {\n    return createPageContext()\n  }\n\n  // Reuse context on the client-side.\n  if (!global.__INIT_MATERIAL_UI__) {\n    global.__INIT_MATERIAL_UI__ = createPageContext()\n  }\n\n  return global.__INIT_MATERIAL_UI__\n}\n\n\n\n// WEBPACK FOOTER //\n// lib/getPageContext.js","import { ApolloClient } from 'apollo-boost'\nimport { InMemoryCache } from 'apollo-boost'\nimport fetch from 'isomorphic-unfetch'\nimport { setContext } from 'apollo-link-context'\nimport { createHttpLink } from 'apollo-link-http'\nimport { ApolloLink } from 'apollo-link'\nimport withClientState from './withClientState'\n\nlet apolloClient = null\n\n// Polyfill fetch() on the server (used by apollo-client)\nif (!process.browser) {\n  global.fetch = fetch\n}\n\nconst contextLink = setContext(() => {\n  // request, previousContext\n  return {\n    headers: {\n      authorization:\n        'eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNqaXhlaHU5cDAwMG8wOTg2cGs0bmtxZDMiLCJpYXQiOjE1MzAxMjA5MzF9.U9y0O6PjQLnpxm2ATrTyOaZMi0kfyP-WFqFqZUDeQhixun-cbHazvtc17AuQyZDG3jGm_BuVRgV8Pz8xFtjf2lO4ozi82KFhkbsSK1oQJd7InELkr6w20f8QhEu8qqwcn--_T38SslEBsdP7v4sHKuwadYGOQuNn-25BMftxu7E'\n    }\n  }\n})\n\nconst serviceLink = () =>\n  createHttpLink({\n    uri: 'http://localhost:3000',\n    credentials: 'same-origin',\n    fetch\n  })\n\nfunction create(initialState) {\n  const cache = new InMemoryCache().restore(initialState || {})\n\n  // Check out https://github.com/zeit/next.js/pull/4611 if you want to use the AWSAppSyncClient\n  return new ApolloClient({\n    connectToDevTools: process.browser,\n    ssrMode: !process.browser, // Disables forceFetch on the server (so queries are only run once)\n    link: ApolloLink.from([withClientState(cache), contextLink, serviceLink()]),\n    cache\n  })\n}\n\nexport default function initApollo(initialState) {\n  // Make sure to create a new client for every server-side request so that data\n  // isn't shared between connections (which would be bad)\n  if (!process.browser) {\n    return create(initialState)\n  }\n\n  // Reuse client on the client-side\n  if (!apolloClient) {\n    apolloClient = create(initialState)\n  }\n\n  return apolloClient\n}\n\n\n\n// WEBPACK FOOTER //\n// lib/initApollo.js","import React from 'react'\nimport initApollo from './initApollo'\nimport Head from 'next/head'\nimport { getDataFromTree } from 'react-apollo'\n\nexport default App => {\n  return class Apollo extends React.Component {\n    static displayName = 'withApollo(App)'\n    static async getInitialProps(ctx) {\n      const { Component, router } = ctx\n\n      let appProps = {}\n      if (App.getInitialProps) {\n        appProps = await App.getInitialProps(ctx)\n      }\n\n      // Run all GraphQL queries in the component tree\n      // and extract the resulting data\n      const apollo = initApollo()\n      if (!process.browser) {\n        try {\n          // Run all GraphQL queries\n          await getDataFromTree(\n            <App\n              {...appProps}\n              Component={Component}\n              router={router}\n              apolloClient={apollo}\n            />\n          )\n        } catch (error) {\n          // Prevent Apollo Client GraphQL errors from crashing SSR.\n          // Handle them in components via the data.error prop:\n          // http://dev.apollodata.com/react/api-queries.html#graphql-query-data-error\n          console.error('Error while running `getDataFromTree`', error)\n        }\n\n        // getDataFromTree does not call componentWillUnmount\n        // head side effect therefore need to be cleared manually\n        Head.rewind()\n      }\n\n      // Extract query data from the Apollo store\n      const apolloState = apollo.cache.extract()\n\n      return {\n        ...appProps,\n        apolloState\n      }\n    }\n\n    constructor(props) {\n      super(props)\n      this.apolloClient = initApollo(props.apolloState)\n    }\n\n    render() {\n      return <App {...this.props} apolloClient={this.apolloClient} />\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// lib/withApolloClient.js","import { withClientState } from 'apollo-link-state'\nimport gql from 'graphql-tag'\n\nconst typeDefs = `\n  type Mutation {\n    token(text: String!): String\n    clearToken: Boolean\n  }\n  type Query {\n    token: String\n  }\n`\n\nconst defaults = {\n  token: null\n}\n\nconst resolvers = {\n  Mutation: {\n    token: (_, { token }, { cache }) => {\n      cache.writeData({ data: { token } })\n      return token\n    },\n    clearToken: (_, __, { cache }) => {\n      cache.writeData({ data: { token: null } })\n      return true\n    }\n  },\n  Query: {\n    token: (_, ___, { cache }) => {\n      const query = gql`\n        query GetToken {\n          token @client\n        }\n      `\n      const result = cache.readQuery({ query })\n      return result.token\n    }\n  }\n}\n\nexport default cache => {\n  return withClientState({ resolvers, defaults, cache, typeDefs })\n}\n\n\n\n// WEBPACK FOOTER //\n// lib/withClientState.js","import withApolloClient from '../lib/withApolloClient'\nimport { ApolloProvider } from 'react-apollo'\nimport React from 'react'\nimport App, { Container } from 'next/app'\nimport { MuiThemeProvider } from '@material-ui/core/styles'\nimport CssBaseline from '@material-ui/core/CssBaseline'\nimport JssProvider from 'react-jss/lib/JssProvider'\nimport getPageContext from '../lib/getPageContext'\n\nclass MyApp extends App {\n  constructor(props) {\n    super(props)\n    this.pageContext = getPageContext()\n  }\n\n  pageContext = null\n\n  componentDidMount() {\n    //   // Remove the server-side injected CSS.\n    const jssStyles = document.querySelector('#jss-server-side')\n    if (jssStyles && jssStyles.parentNode) {\n      jssStyles.parentNode.removeChild(jssStyles)\n    }\n  }\n\n  render() {\n    const { Component, pageProps, apolloClient } = this.props\n    return (\n      <Container>\n        <JssProvider\n          registry={this.pageContext.sheetsRegistry}\n          generateClassName={this.pageContext.generateClassName}\n        >\n          <MuiThemeProvider\n            theme={this.pageContext.theme}\n            sheetsManager={this.pageContext.sheetsManager}\n          >\n            <CssBaseline />\n            <ApolloProvider client={apolloClient}>\n              <Component pageContext={this.pageContext} {...pageProps} />\n            </ApolloProvider>\n          </MuiThemeProvider>\n        </JssProvider>\n        <style jsx global>{`\n          html,\n          body {\n            height: 100%;\n          }\n\n          div#__next,\n          div#__next > main {\n            height: 100%;\n          }\n        `}</style>\n      </Container>\n    )\n  }\n}\n\nexport default withApolloClient(MyApp)\n\n\n\n// WEBPACK FOOTER //\n// pages/_app.js","module.exports = require(\"@babel/runtime/regenerator\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"@babel/runtime/regenerator\"\n// module id = @babel/runtime/regenerator\n// module chunks = 0","module.exports = require(\"@material-ui/core/CssBaseline\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"@material-ui/core/CssBaseline\"\n// module id = @material-ui/core/CssBaseline\n// module chunks = 0","module.exports = require(\"@material-ui/core/colors/green\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"@material-ui/core/colors/green\"\n// module id = @material-ui/core/colors/green\n// module chunks = 0","module.exports = require(\"@material-ui/core/colors/purple\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"@material-ui/core/colors/purple\"\n// module id = @material-ui/core/colors/purple\n// module chunks = 0","module.exports = require(\"@material-ui/core/styles\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"@material-ui/core/styles\"\n// module id = @material-ui/core/styles\n// module chunks = 0 3 4","module.exports = require(\"apollo-boost\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"apollo-boost\"\n// module id = apollo-boost\n// module chunks = 0","module.exports = require(\"apollo-link\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"apollo-link\"\n// module id = apollo-link\n// module chunks = 0","module.exports = require(\"apollo-link-context\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"apollo-link-context\"\n// module id = apollo-link-context\n// module chunks = 0","module.exports = require(\"apollo-link-http\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"apollo-link-http\"\n// module id = apollo-link-http\n// module chunks = 0","module.exports = require(\"apollo-link-state\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"apollo-link-state\"\n// module id = apollo-link-state\n// module chunks = 0","module.exports = require(\"graphql-tag\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"graphql-tag\"\n// module id = graphql-tag\n// module chunks = 0 3 4","module.exports = require(\"isomorphic-unfetch\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"isomorphic-unfetch\"\n// module id = isomorphic-unfetch\n// module chunks = 0","module.exports = require(\"jss\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"jss\"\n// module id = jss\n// module chunks = 0","module.exports = require(\"next/app\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"next/app\"\n// module id = next/app\n// module chunks = 0","module.exports = require(\"next/head\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"next/head\"\n// module id = next/head\n// module chunks = 0","module.exports = require(\"react\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react\"\n// module id = react\n// module chunks = 0 1 3 4","module.exports = require(\"react-apollo\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-apollo\"\n// module id = react-apollo\n// module chunks = 0 3 4","module.exports = require(\"react-jss/lib/JssProvider\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-jss/lib/JssProvider\"\n// module id = react-jss/lib/JssProvider\n// module chunks = 0","module.exports = require(\"styled-jsx/style\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"styled-jsx/style\"\n// module id = styled-jsx/style\n// module chunks = 0"],"mappings":";;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;ACnEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAIA;AACA;AAGA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;AAHA;AANA;AADA;AACA;AAcA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AASA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACpDA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AADA;AAMA;AACA;AACA;AAAA;AAEA;AACA;AACA;AAHA;AADA;AACA;AAMA;AACA;AACA;AAEA;AACA;AACA;AAAA;AACA;AACA;AAJA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACzDA;AACA;AACA;AACA;AAEA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAEA;AACA;AANA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAOA;AACA;AARA;AAUA;AACA;AACA;AACA;AAbA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAmBA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AACA;AAlBA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAyBA;AACA;AACA;AACA;AACA;AA7BA;AA+BA;AACA;AACA;AACA;AAlCA;AAoCA;AACA;AArCA;AAyCA;AAzCA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AACA;AA4CA;AAAA;AACA;AADA;AACA;AAAA;AACA;AAFA;AAGA;AACA;AAjDA;AAAA;AAAA;AAmDA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AApDA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAsDA;;;;;;;;;;;;;;;;AC5DA;AACA;AAEA;AAUA;AACA;AADA;AAIA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AARA;AAUA;AACA;AAAA;AACA;AAKA;AAAA;AAAA;AACA;AACA;AATA;AAXA;AAwBA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC3CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AACA;AAAA;AACA;AADA;AACA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAFA;AAGA;AACA;;;AAGA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;;;AAEA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAFA;AAAA;AAAA;AAAA;AAAA;AAKA;AACA;AAFA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAXA;AAAA;AAAA;AA4BA;;;;AA/CA;AACA;AAiDA;;;;;;;;;;;;;;;AC3DA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;A","sourceRoot":""}